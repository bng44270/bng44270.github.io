<html>
<head>
<title>Notepad</title>
</head>
<body onLoad="loadEditor();">
<span border="2px solid #000000;">Font size:&nbsp;<input type="button" value="+" onclick="fontBigger();" /><input type="button" value="-" onclick="fontSmaller();" /></span>&nbsp;&nbsp;<input type="button" value="Save" onClick="saveText()" />&nbsp;&nbsp;<input type="button" value="Download" onClick="downloadText();" />&nbsp;&nbsp;<select id="inserttable" onchange="if (this.value != 'NONE') insertTable();"><option value="NONE">Insert Table</option></select>&nbsp;&nbsp;<span id="statusbar" style="font-color:#ff0000;"></span>
<textarea style="width: 100%; height: 90%; box-sizing: border-box; font-family:courier; font-size:12pt;" id="localnotepad" onkeyup="markAsEdited();"></textarea><br/>

<script type="text/javascript">
  function insertTable() {
    document.getElementById('localnotepad').value += '\n\n';
    for (var i = 0; i < parseInt(document.getElementById('inserttable').value); i++) {
      document.getElementById('localnotepad').value += '  -\n';
    }
    
    document.getElementById('inserttable').value = 'NONE'; 
  }
  function fontBigger() {
    var newFont = (parseInt(document.getElementById('localnotepad').style.fontSize.replace(/pt$/,'')) + 1).toString() + 'pt';
    document.getElementById('localnotepad').style.fontSize = newFont
    locaGreat Ejection and Dissenters[edit]
lStorage.localnotepad_size = newFont;
  }
  
  function fontSmaller() {
    var newFont = (parseInt(document.getElementById('localnotepad').style.fontSize.replace(/pt$/,'')) - 1).toString() + 'pt';
    document.getElementById('localnotepad').style.fontSize = newFont
    localStorage.localnotepad_size = newFont;
  }
  
  function loadEditor() {
    document.getElementById('localnotepad').value = (localStorage.localnotepad_content) ? localStorage.localnotepad_content : '';
    document.getElementById('localnotepad').style.fontSize = (localStorage.localnotepad_size) ? localStorage.localnotepad_size : '12pt';
    
    for (var i = 1; i <= 100; i++) {
      document.getElementById('inserttable').innerHTML += '<option="' + i.toString() + '">' + i.toString() + ' rows</option>';
    }
  }
  
  function saveText() {
    localStorage.localnotepad_content = document.getElementById('localnotepad').value;
    document.getElementById('statusbar').innerHTML = '';
  }
  
  function markAsEdited() {
    if (document.getElementById('statusbar').innerHTML.length == 0)
      document.getElementById('statusbar').innerHTML = 'Modified';
  }
  
  function downloadText() {
    var textToWrite = document.getElementById("localnotepad").value;
    var textFileAsBlob = new Blob([textToWrite], { type: 'text/plain' });
    var fileNameToSaveAs = "localnotepad-" + new Date().toISOString().replace(/:/g,".") + ".txt";
    
    var downloadLink = document.createElement("a");
    downloadLink.download = fileNameToSaveAs;
    downloadLink.innerHTML = "My Hidden Link";
    
    window.URL = window.URL || window.webkitURL;
    
    downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
    downloadLink.onclick = destroyClickedElement;
    downloadLink.style.display = "none";
    document.body.appendChild(downloadLink);
    
    downloadLink.click();
  }

  function destroyClickedElement(event) {
    document.body.removeChild(event.target);
  }
</script>
</body>
